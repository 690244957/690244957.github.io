---
layout: article
title:  "地理编码笔记"
date:   2018-01-01
categories: posts infovis
image:
  teaser: data_visualization_mid-term.jpg
  feature: data_visualization_mid-term.jpg
---
这是一篇有关Tableau地理编码的文章
---

如果数据中有不会在 Tableau 自动进行地理编码的地理位置，则可以通过两种方式在地图视图上绘制这些位置 – 数据混合和自定义地理编码。数据混合和自定义地理编码都允许您在地图上绘制您自己的位置。数据混合更易于设置，并且您能够使用任何数据源中的数据。自定义地理编码使您能够添加到现有角色，并创建分层结构。自定义地理编码在设置和导入之后更易于使用。
## 数据混合
数据混合是在地图视图上绘制数据的最简便方式。如果您要添加具有经纬度的单一地理层次，则数据混合非常适合。与只能使用文本文件的自定义地理编码不同，您可以使用任何数据源。您可以与 Tableau Server 上的其他工作簿共享地理数据源。也可以通过创建只包含地理数据的数据提取来提高地图性能。

## 自定义地理编码
自定义地理编码是在地图上绘制数据的一种更灵活的方式。导入自定义地理编码数据之后，自定义地理编码将可用于计算机上的所有工作簿。 自定义编码数据将复制到任何打包工作簿 (.twbx) 或使用自定义地理角色的已发布工作簿中。这会使工作簿的大小超过约 40 MB。
如果升级 Tableau Desktop，您可能需要刷新自定义地理编码以利用对 Tableau 中的地理编码数据的任何修正之处。
在自定义地理编码中，您可以使用其他列来定义更大地理位置。举例来说，如果您在创建一组美国人口普查区，则可能需要定义这些人口普查区位于美国的哪个县。您可以包括其他列以在导入文件中定义更大的地理位置。
您也可以为具有匹配关系（表示它们共用较大的地理数据，例如国家/地区或州/省/市/自治区）的多个地理角色使用多个文件。导入自定义地理编码数据后，您将看到可分配给地理数据的其他地理角色。
最后，自定义地理编码使您能够向现有地理角色中添加其他位置，例如向城市角色中添加新城市。它还允许您定义对内置分层结构进行扩展的地理角色分层结构（例如，县中的人口普查区），或定义一个新分层结构（例如，领地中的子领地）。